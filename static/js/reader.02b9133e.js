(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["reader"],{"037b":function(e,t,n){"use strict";var r=n("896f"),a=n.n(r);a.a},"896f":function(e,t,n){},"968f":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"reader-wrap"},[e.curBid?n("div",{staticClass:"reader-article"},[n("div",{staticClass:"reader-title"},[e._v(e._s(e.title))]),n("div",{staticClass:"reader-content",attrs:{id:"readerContent"}},[n("div",{staticClass:"reader-content-text",attrs:{id:"content"},domProps:{innerHTML:e._s(e.content)}})]),n("div",{staticClass:"reader-bar"},[n("div",{staticClass:"reader-bar-left",on:{click:e.addMark}},[e._v(" mark("),n("i",{staticClass:"mark-pop"},[e._v(e._s(e.mark.length))]),e._v(") ")]),n("div",{staticClass:"reader-bar-center",on:{click:function(t){e.showMenu=!0}}},[e._v("menu")]),n("div",{staticClass:"reader-bar-right"},[e._v(e._s(e.process))])]),n("transition",{attrs:{name:"fadeIn"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.showMenu,expression:"showMenu"}],staticClass:"menu-wrap"},[n("div",{staticClass:"menu-mask",on:{click:function(t){e.showMenu=!1}}}),n("div",{staticClass:"menu-box"},[n("ul",{staticClass:"menu-list"},e._l(e.menu,(function(t,r){return n("li",{key:r+t.no,staticClass:"menu-item",on:{click:function(n){return e.scrollTo(t.no)}}},[e._v(" "+e._s(t.name)+" ")])})),0)])])])],1):e._e()])},a=[],s=(n("ac1f"),n("5319"),n("96cf"),n("1da1")),c=n("907c"),o={data:function(){return{showMenu:!1,curBid:"",title:"",content:"",menu:[],mark:[],process:""}},created:function(){this.curBid=this.$store.state.curBid,this.curBid&&this.getContent()},methods:{getContent:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c["a"].get(e.curBid);case 2:n=t.sent,e.title=n.title,e.menu=n.menu,e.mark=n.mark,e.content=n.content&&n.content.replace(/\n/g,'<br><div class="line"></div>'),setTimeout((function(){e.mark.length>0&&document.querySelector("#readerContent").scrollTo({top:e.mark[e.mark.length-1],left:0})}),1e3);case 8:case"end":return t.stop()}}),t)})))()},scrollTo:function(e){var t=document.querySelector("#content div[data-no='".concat(e,"']"));document.querySelector("#readerContent").scrollTo({top:t.offsetTop-100,left:0,behavior:"smooth"}),this.showMenu=!1},addMark:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("添加标签"),n=document.querySelector("#readerContent").scrollTop,e.mark.push(n),t.next=5,c["a"].updated(e.curBid,{mark:e.mark});case 5:console.log(n);case 6:case"end":return t.stop()}}),t)})))()}}},i=o,u=(n("037b"),n("2877")),l=Object(u["a"])(i,r,a,!1,null,null,null);t["default"]=l.exports}}]);